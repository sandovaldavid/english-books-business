---
import Button from './Button.astro';
import SocialMediaContent from './SocialMediaContent.astro';
import OfferIcon from './icons/Offer.astro';

// Helper to determine current page for active state
const { pathname } = Astro.url;
const isActive = (path: string) =>
	pathname === path || (path !== '/' && pathname.startsWith(path));
---

<nav class='flex flex-col md:flex-row md:items-center md:justify-between py-2'>
	<!-- Navigation links -->
	<div class='flex flex-col md:flex-row md:items-center'>
		<a
			href='/'
			class:list={[
				'px-4 py-2 font-medium text-lg rounded-md transition-colors',
				isActive('/')
					? 'text-secondary bg-primary-dark active'
					: 'hover:text-secondary hover:bg-primary-dark/20',
			]}>Inicio</a
		>
		<a
			href='/catalogo'
			class:list={[
				'px-4 py-2 font-medium text-lg rounded-md transition-colors',
				isActive('/catalogo')
					? 'text-secondary bg-primary-dark active'
					: 'hover:text-secondary hover:bg-primary-dark/20',
			]}>Cat√°logo</a
		>
		<a
			href='/testimonios'
			class:list={[
				'px-4 py-2 font-medium text-lg rounded-md transition-colors',
				isActive('/testimonios')
					? 'text-secondary bg-primary-dark active'
					: 'hover:text-secondary hover:bg-primary-dark/20',
			]}>Testimonios</a
		>
		<a
			href='/blog'
			class:list={[
				'px-4 py-2 font-medium text-lg rounded-md transition-colors',
				isActive('/blog')
					? 'text-secondary bg-primary-dark active'
					: 'hover:text-secondary hover:bg-primary-dark/20',
			]}>Blog</a
		>
		<a
			href='/contacto'
			class:list={[
				'px-4 py-2 font-medium text-lg rounded-md transition-colors',
				isActive('/contacto')
					? 'text-secondary bg-primary-dark active'
					: 'hover:text-secondary hover:bg-primary-dark/20',
			]}>Contacto</a
		>
	</div>

	<div class='flex flex-col md:flex-row md:items-center md:space-x-3'>
		<!-- Offers button -->
		<Button
			variant='accent'
			size='small'
			href='/ofertas'
			class='mt-4 md:mt-0 shadow-md hover:shadow-lg transform transition-all duration-300'>
			<span class='flex items-center'>
				<OfferIcon class='h-5 w-5 mr-1' />
				Ver Ofertas
			</span>
		</Button>

		<!-- Social Icons -->
		<div class='mt-4 md:mt-0'>
			<SocialMediaContent
				showFacebook={true}
				showInstagram={true}
				showTwitter={true}
				showWhatsApp={false}
				facebookUrl='#'
				instagramUrl='#'
				twitterUrl='#'
				class='justify-center'
				iconSize='mx-2 h-6 w-6 md:mx-0'
			/>
		</div>
	</div>
</nav>
